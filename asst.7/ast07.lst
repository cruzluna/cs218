     1                                 %line 1+1 ast07.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 
     8                                 
     9                                 
    10                                 
    11                                 
    12                                 
    13                                 
    14                                 
    15                                 
    16                                 
    17                                 
    18                                 
    19                                 
    20                                 
    21                                 
    22                                 
    23                                 
    24                                 
    25                                 
    26                                 
    27                                 
    28                                 
    29                                 
    30                                 
    31                                 
    32                                 
    33                                 
    34                                 
    35                                 
    36                                 
    37                                 
    38                                 
    39                                 %line 43+1 ast07.asm
    40                                 
    41                                 
    42                                 
    43                                 
    44                                 
    45                                 %line 53+1 ast07.asm
    46                                 
    47                                 
    48                                 
    49                                 
    50                                 
    51                                 %line 63+1 ast07.asm
    52                                 
    53                                 
    54                                 
    55                                 
    56                                 [section .data]
    57                                 
    58                                 
    59                                 
    60                                 
    61                                 
    62                                 TRUE equ 1
    63                                 FALSE equ 0
    64                                 
    65                                 SUCCESS equ 0
    66                                 NOSUCCESS equ 1
    67                                 
    68                                 STDIN equ 0
    69                                 STDOUT equ 1
    70                                 STDERR equ 2
    71                                 
    72                                 SYS_read equ 0
    73                                 SYS_write equ 1
    74                                 SYS_open equ 2
    75                                 SYS_close equ 3
    76                                 SYS_fork equ 57
    77                                 SYS_exit equ 60
    78                                 SYS_creat equ 85
    79                                 SYS_time equ 201
    80                                 
    81                                 LF equ 10
    82                                 SPACE equ " "
    83                                 NULL equ 0
    84                                 ESC equ 27
    85                                 
    86                                 
    87                                 
    88 00000000 7B0000002A00000092-    lst dd 123, 42, 146, 76, 120, 56, 164, 65, 155, 57
    89 00000000 0000004C0000007800-
    90 00000000 000038000000A40000-
    91 00000000 00410000009B000000-
    92 00000000 39000000           
    93 00000028 6F000000BC00000021-     dd 111, 188, 33, 05, 27, 101, 115, 108, 13, 115
    94 00000028 000000050000001B00-
    95 00000028 000065000000730000-
    96 00000028 006C0000000D000000-
    97 00000028 73000000           
    98 00000050 110000001A00000081-     dd 17, 26, 129, 117, 107, 105, 109, 30, 150, 14
    99 00000050 000000750000006B00-
   100 00000050 0000690000006D0000-
   101 00000050 001E00000096000000-
   102 00000050 0E000000           
   103 00000078 930000007B0000002D-     dd 147, 123, 45, 40, 65, 11, 54, 28, 13, 22
   104 00000078 000000280000004100-
   105 00000078 00000B000000360000-
   106 00000078 001C0000000D000000-
   107 00000078 16000000           
   108 000000A0 450000001A00000047-     dd 69, 26, 71, 147, 28, 27, 90, 177, 75, 14
   109 000000A0 000000930000001C00-
   110 000000A0 00001B0000005A0000-
   111 000000A0 00B10000004B000000-
   112 000000A0 0E000000           
   113 000000C8 B5000000190000000F-     dd 181, 25, 15, 22, 17, 1, 10, 129, 12, 134
   114 000000C8 000000160000001100-
   115 000000C8 0000010000000A0000-
   116 000000C8 00810000000C000000-
   117 000000C8 86000000           
   118 000000F0 3D0000002200000097-     dd 61, 34, 151, 32, 12, 29, 114, 22, 13, 131
   119 000000F0 000000200000000C00-
   120 000000F0 00001D000000720000-
   121 000000F0 00160000000D000000-
   122 000000F0 83000000           
   123 00000118 7F0000004000000028-     dd 127, 64, 40, 172, 24, 125, 16, 62, 8, 92
   124 00000118 000000AC0000001800-
   125 00000118 00007D000000100000-
   126 00000118 003E00000008000000-
   127 00000118 5C000000           
   128 00000140 6F000000B700000085-     dd 111, 183, 133, 50, 2, 19, 15, 18, 113, 15
   129 00000140 000000320000000200-
   130 00000140 0000130000000F0000-
   131 00000140 001200000071000000-
   132 00000140 0F000000           
   133 00000168 1D0000007E0000003E-     dd 29, 126, 62, 17, 127, 77, 89, 79, 75, 14
   134 00000168 000000110000007F00-
   135 00000168 00004D000000590000-
   136 00000168 004F0000004B000000-
   137 00000168 0E000000           
   138 00000190 720000001900000054-     dd 114, 25, 84, 43, 76, 134, 26, 100, 56, 63
   139 00000190 0000002B0000004C00-
   140 00000190 0000860000001A0000-
   141 00000190 006400000038000000-
   142 00000190 3F000000           
   143 000001B8 180000001000000011-     dd 24, 16, 17, 183, 12, 81, 320, 67, 59, 190
   144 000001B8 000000B70000000C00-
   145 000001B8 000051000000400100-
   146 000001B8 00430000003B000000-
   147 000001B8 BE000000           
   148 000001E0 C10000008400000092-     dd 193, 132, 146, 186, 191, 186, 134, 125, 15, 76
   149 000001E0 000000BA000000BF00-
   150 000001E0 0000BA000000860000-
   151 000001E0 007D0000000F000000-
   152 000001E0 4C000000           
   153 00000208 43000000B700000007-     dd 67, 183, 7, 114, 15, 11, 24, 128, 113, 112
   154 00000208 000000720000000F00-
   155 00000208 00000B000000180000-
   156 00000208 008000000071000000-
   157 00000208 70000000           
   158 00000230 180000001000000011-     dd 24, 16, 17, 183, 12, 121, 320, 40, 19, 90
   159 00000230 000000B70000000C00-
   160 00000230 000079000000400100-
   161 00000230 002800000013000000-
   162 00000230 5A000000           
   163 00000258 870000007E0000007A-     dd 135, 126, 122, 117, 127, 27, 19, 127, 125, 184
   164 00000258 000000750000007F00-
   165 00000258 00001B000000130000-
   166 00000258 007F0000007D000000-
   167 00000258 B8000000           
   168 00000280 610000004A000000BE-     dd 97, 74, 190, 3, 24, 125, 116, 126, 4, 29
   169 00000280 000000030000001800-
   170 00000280 00007D000000740000-
   171 00000280 007E00000004000000-
   172 00000280 1D000000           
   173 000002A8 680000007C00000070-     dd 104, 124, 112, 143, 176, 34, 126, 112, 156, 103
   174 000002A8 0000008F000000B000-
   175 000002A8 0000220000007E0000-
   176 000002A8 00700000009C000000-
   177 000002A8 67000000           
   178 000002D0 450000001A00000047-     dd 69, 26, 71, 147, 28, 27, 39, 177, 75, 14
   179 000002D0 000000930000001C00-
   180 000002D0 00001B000000270000-
   181 000002D0 00B10000004B000000-
   182 000002D0 0E000000           
   183 000002F8 99000000AC00000092-     dd 153, 172, 146, 176, 170, 156, 164, 165, 155, 156
   184 000002F8 000000B0000000AA00-
   185 000002F8 00009C000000A40000-
   186 000002F8 00A50000009B000000-
   187 000002F8 9C000000           
   188 00000320 5E0000001900000054-     dd 94, 25, 84, 43, 76, 34, 26, 13, 56, 63
   189 00000320 0000002B0000004C00-
   190 00000320 0000220000001A0000-
   191 00000320 000D00000038000000-
   192 00000320 3F000000           
   193 00000348 93000000990000008F-     dd 147, 153, 143, 140, 165, 191, 154, 168, 143, 162
   194 00000348 0000008C000000A500-
   195 00000348 0000BF0000009A0000-
   196 00000348 00A80000008F000000-
   197 00000348 A2000000           
   198 00000370 0B0000005300000085-     dd 11, 83, 133, 50, 25, 21, 15, 88, 13, 15
   199 00000370 000000320000001900-
   200 00000370 0000150000000F0000-
   201 00000370 00580000000D000000-
   202 00000370 0F000000           
   203 00000398 A900000092000000A2-     dd 169, 146, 162, 147, 157, 167, 169, 177, 175, 144
   204 00000398 000000930000009D00-
   205 00000398 0000A7000000A90000-
   206 00000398 00B1000000AF000000-
   207 00000398 90000000           
   208 000003C0 1B000000400000001E-     dd 27, 64, 30, 172, 24, 25, 16, 62, 28, 92
   209 000003C0 000000AC0000001800-
   210 000003C0 000019000000100000-
   211 000003C0 003E0000001C000000-
   212 000003C0 5C000000           
   213 000003E8 B50000009B00000091-     dd 181, 155, 145, 132, 167, 185, 150, 149, 182, 34
   214 000003E8 00000084000000A700-
   215 000003E8 0000B9000000960000-
   216 000003E8 0095000000B6000000-
   217 000003E8 22000000           
   218 00000410 51000000190000000F-     dd 81, 25, 15, 9, 17, 25, 37, 129, 12, 134
   219 00000410 000000090000001100-
   220 00000410 000019000000250000-
   221 00000410 00810000000C000000-
   222 00000410 86000000           
   223 00000438 B1000000A4000000A0-     dd 177, 164, 160, 172, 184, 175, 166, 62, 158, 72
   224 00000438 000000AC000000B800-
   225 00000438 0000AF000000A60000-
   226 00000438 003E0000009E000000-
   227 00000438 48000000           
   228 00000460 3D0000005300000085-     dd 61, 83, 133, 150, 135, 31, 185, 178, 197, 185
   229 00000460 000000960000008700-
   230 00000460 00001F000000B90000-
   231 00000460 00B2000000C5000000-
   232 00000460 B9000000           
   233 00000488 930000007B0000002D-     dd 147, 123, 45, 40, 66, 11, 54, 28, 13, 22
   234 00000488 000000280000004200-
   235 00000488 00000B000000360000-
   236 00000488 001C0000000D000000-
   237 00000488 16000000           
   238 000004B0 3100000006000000A2-     dd 49, 6, 162, 167, 167, 177, 169, 177, 175, 164
   239 000004B0 000000A7000000A700-
   240 000004B0 0000B1000000A90000-
   241 000004B0 00B1000000AF000000-
   242 000004B0 A4000000           
   243 000004D8 A10000007A00000097-     dd 161, 122, 151, 32, 70, 29, 14, 22, 13, 131
   244 000004D8 000000200000004600-
   245 000004D8 00001D0000000E0000-
   246 000004D8 00160000000D000000-
   247 000004D8 83000000           
   248 00000500 54000000B300000075-     dd 84, 179, 117, 183, 190, 100, 112, 123, 122, 131
   249 00000500 000000B7000000BE00-
   250 00000500 000064000000700000-
   251 00000500 007B0000007A000000-
   252 00000500 83000000           
   253 00000528 7B0000002A00000092-     dd 123, 42, 146, 76, 20, 56, 64, 66, 155, 57
   254 00000528 0000004C0000001400-
   255 00000528 000038000000400000-
   256 00000528 00420000009B000000-
   257 00000528 39000000           
   258 00000550 270000007E0000003E-     dd 39, 126, 62, 41, 127, 77, 199, 79, 175, 14
   259 00000550 000000290000007F00-
   260 00000550 00004D000000C70000-
   261 00000550 004F000000AF000000-
   262 00000550 0E000000           
   263 00000578 5E010000               len dd 350
   264                                 
   265 0000057C 00000000               min dd 0
   266 00000580 00000000               med dd 0
   267 00000584 00000000               max dd 0
   268 00000588 00000000               sum dd 0
   269 0000058C 00000000               avg dd 0
   270                                 
   271                                 
   272                                 
   273                                 
   274                                 [section .text]
   275                                 [global _start]
   276                                 _start:
   277                                 
   278                                 
   279                                 
   280                                 
   281                                 
   282                                 
   283                                 
   284                                 
   285                                 
   286                                 
   287                                 
   288                                 
   289                                 
   290                                 
   291                                 
   292                                 
   293                                 
   294                                 
   295                                 
   296 00000000 8B0425[00000000]       mov eax, dword [lst]
   297 00000007 8B0C25[00000000]       mov ecx, dword [len]
   298 0000000E 48C7C601000000         mov rsi, 1
   299 00000015 48C7C702000000         mov rdi, 2
   300                                 
   301                                 
   302                                 whileLoop:
   303                                 
   304                                 
   305                                 
   306                                 
   307 0000001C 4839CE                  cmp rsi , rcx
   308 0000001F 7D3A                    jge exitWhile
   309                                 
   310                                 
   311                                 
   312                                 
   313                                 
   314                                 
   315 00000021 8B04B5[00000000]        mov eax, dword [lst + rsi * 4]
   316                                 
   317 00000028 8B2E                    mov ebp, dword [rsi]
   318 0000002A FFCD                    dec ebp
   319                                 
   320 0000002C 67448B04AD[00000000]      mov r8d, dword [lst + ebp *4]
   321                                 
   322 00000035 4439C0                  cmp eax, r8d
   323 00000038 7F06                    jg elseLoop
   324 0000003A 488B37                  mov rsi, qword [rdi]
   325 0000003D 48FFC7                  inc rdi
   326 00000040 EBD8                    jmp whileLoop
   327                                 
   328                                  elseLoop:
   329                                 
   330                                 
   331                                 
   332                                 
   333                                 
   334                                 
   335                                 
   336                                 
   337 00000042 67458B08                mov r9d, dword [r8d]
   338 00000046 4189C0                  mov r8d , eax
   339 00000049 67418B01                mov eax, dword [r9d]
   340                                 
   341                                 
   342                                 
   343                                 
   344                                 
   345                                 
   346 0000004D 48FFCE                  dec rsi
   347 00000050 4883FE00                cmp rsi, 0
   348 00000054 75C4                    jne whileLoop
   349 00000056 48C7C601000000          mov rsi, 1
   350                                 
   351                                 
   352                                 exitWhile:
   353                                 
   354                                 
   355                                 
   356                                 
   357                                 
   358                                 
   359                                 
   360                                 
   361                                 
   362                                 
   363                                 
   364                                 
   365                                 
   366                                 
   367                                 
   368                                 %line 238+0 ast07.asm
   369                                 
   370                                 
   371                                 %line 239+1 ast07.asm
   372                                 
   373                                 %line 239+0 ast07.asm
   374                                 
   375                                 
   376                                 %line 240+1 ast07.asm
   377                                 
   378                                 %line 240+0 ast07.asm
   379                                 
   380                                 
   381                                 %line 241+1 ast07.asm
   382                                 
   383                                 
   384                                 
   385                                 
   386                                 
   387                                 last:
   388 0000005D 48C7C03C000000          mov rax, SYS_exit
   389 00000064 48C7C700000000          mov rdi, SUCCESS
   390 0000006B 0F05                    syscall
   391                                 
